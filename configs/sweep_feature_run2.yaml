# wandb sweep --project future-ice-avalanches --entity davidclara-eth-z-rich --name feature_run2_sweep configs/sweep_feature_run2.yaml
#
# SIGMA VARIATION SWEEP
# Tests: 6 sigma combinations with fixed feature set
# Method: Grid search (tests ALL 6 combinations)
# Features: slope, slope_break_index, profile_curvature, planform_curvature, mean_curvature
# Sigma combinations: [1], [3], [5], [1,3], [3,5], [1,3,5]
# No elevation, no zonal statistics
#
# To run: wandb agent <sweep_id>

program: scripts/modelling/train.py
method: grid  # Grid search - tests all combinations
metric:
  name: cv/src_auc_mean
  goal: maximize

command:
  - ${env}
  - python
  - ${program}
  - ${args_no_hyphens}

parameters:
  # ============================================
  # SIGMA VARIATION COMBINATIONS (6 total)
  # ============================================
  # Fixed feature set: slope, slope_break_index, profile_curvature, planform_curvature, mean_curvature
  # Sigma combinations applied uniformly to all features:
  #
  # Run 1 (set 19): sigma [1]
  # Run 2 (set 20): sigma [3]
  # Run 3 (set 21): sigma [5]
  # Run 4 (set 22): sigma [1,3]
  # Run 5 (set 23): sigma [3,5]
  # Run 6 (set 24): sigma [1,3,5]
  #
  # No elevation, no zonal statistics
  feature_set:
    values: [19, 20, 21, 22, 23, 24]
    # Feature filtering is implemented in train.py via filter_features_by_set()
    # Feature sets 19-24 use fixed feature names with varying sigma combinations

  # ============================================
  # SAMPLING PARAMETERS (fixed at safe defaults)
  # ============================================
  sampling.unlabeled_ratio:
    value: 5
    # Number of unlabeled samples per positive sample (default from train.yaml)

  sampling.folds:
    value: 5
    # Number of cross-validation folds

  sampling.buffer_pixels:
    value: 10
    # Buffer size in pixels

  sampling.seed:
    value: 42
    # Random seed for reproducibility

  # ============================================
  # MODEL PARAMETERS (fixed at safe defaults)
  # ============================================
  model.type:
    value: "bagging"
    # Fixed to bagging only

  model.base_estimator.type:
    value: "random_forest"
    # Fixed to RandomForest

  model.base_estimator.n_estimators:
    value: 50
    # Number of trees in RandomForest (default from train.yaml)

  model.base_estimator.max_depth:
    value: 8
    # Tree depth (default from train.yaml)

  model.base_estimator.random_state:
    value: 42
    # Random seed for reproducibility

  model.bagging.pu_n_estimators:
    value: 10
    # Number of PU classifiers in bagging ensemble (default from train.yaml)

# ============================================
# SWEEP SUMMARY
# ============================================
# Total combinations: 6 sigma variation sets
# Grid search will test ALL 6 combinations
#
# Feature sets 19-24 use fixed feature names with varying sigma combinations:
# - 19: slope, slope_break_index, profile_curvature, planform_curvature, mean_curvature (sigma [1])
# - 20: slope, slope_break_index, profile_curvature, planform_curvature, mean_curvature (sigma [3])
# - 21: slope, slope_break_index, profile_curvature, planform_curvature, mean_curvature (sigma [5])
# - 22: slope, slope_break_index, profile_curvature, planform_curvature, mean_curvature (sigma [1,3])
# - 23: slope, slope_break_index, profile_curvature, planform_curvature, mean_curvature (sigma [3,5])
# - 24: slope, slope_break_index, profile_curvature, planform_curvature, mean_curvature (sigma [1,3,5])
#
# No elevation, no zonal statistics
# Feature filtering is implemented in train.py via filter_features_by_set()
